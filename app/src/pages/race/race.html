<ion-header>
    <ion-navbar>
        <ion-title>
            Race
        </ion-title>
        <ion-buttons end>
            <button ion-button icon-start (click)="restartRace()">
                    <ion-icon name="refresh"></ion-icon> 
                Restart
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>

<ion-content padding>

    <ion-grid>
        <ion-row>
            <ion-col>
                State:
            </ion-col>
            <ion-col>
                <b>{{raceStateText}}</b>
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                Current lap:
            </ion-col>
            <ion-col>
                {{currentLap}} / {{maxLaps}}
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                Last lap time:
            </ion-col>
            <ion-col>
                {{convertTime(lastLapTime)}}
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                Fastest lap:
            </ion-col>
            <ion-col>
                {{fastestLap}} ({{convertTime(fastestLapTime)}})
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                Average lap time:
            </ion-col>
            <ion-col>
                {{convertTime(averageLapTime)}}
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                Total time:
            </ion-col>
            <ion-col>
                {{convertTime(totalTime)}}
            </ion-col>
        </ion-row>
        <ion-row>
            <ion-col>
                Lap times:
            </ion-col>
            <ion-col>
            </ion-col>
        </ion-row>
    </ion-grid>
    <hr />
    <div [hidden]="currentLap > 0">not finished a lap yet, waiting for first lap</div>
    <div *ngFor="let lap of lapTimes; let i = index">Lap {{i + 1}}: {{convertTime(lap)}} (RSSI: {{lapRssis[i]}})</div>

</ion-content>
